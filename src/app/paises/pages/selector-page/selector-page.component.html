<h1 class="mt-5">Selectores anidados</h1>
<hr>



<form
      (ngSubmit)="guardar()"
      [formGroup]="miFormulario">
<!-- region -->
  <div class="row mb-3">
    <div class="col">
      <label class="form-label">Continente:</label>
        <select class="form-control"
                formControlName="region"
                >
          <option value=""> -- Seleccione Continente-- </option>
          <option *ngFor="let region of regiones"
                  [value]="region">
                  {{region | titlecase}}
                </option>
        </select>
    </div>
  </div>

  <!-- pais -->

  <div *ngIf="paises.length"
       class="row mb-3">
    <div class="col">
      <label class="form-label">paises:</label>
        <select class="form-control"
                formControlName="pais"
                >
          <option value=""> -- Seleccione Pais-- </option>
          <option *ngFor="let pais of paises"
                  [value]="pais.cca3">
                  {{pais.name.common | titlecase}}
                </option>
        </select>
    </div>
  </div>

<!-- Fronteras -->
  <div *ngIf="fronteras.length"
  class="row mb-3">
<div class="col">
 <label class="form-label">Fronteras:</label>
   <select class="form-control"
           formControlName="frontera"
           >
     <option value=""> -- Seleccione el pais Fronterizo-- </option>
     <option *ngFor="let frontera of fronteras"
             [value]="frontera.cca3">
             {{frontera.cca3}} -- {{frontera.name.common}}
           </option>
   </select>
</div>
</div>
<div *ngIf="cargando" class="row">
  <div class="col">
    <div class="alert alert-primary">Cargando...</div>
  </div>
</div>
<div *ngIf="!cargando && fronteras.length === 0 && miFormulario.controls['pais'].touched" class="row">
  <div class="col">
    <div class="alert alert-danger">No hay datos...</div>
  </div>
</div>


  <div class="row">
    <div class="col">
      <button
            type="submit"
            class="btn btn-primary float-end"
            >Seleccionar</button>
    </div>
  </div>
</form>


<h3>Formulario</h3>

<pre>{{miFormulario.valid}}</pre>
<pre>{{miFormulario.value | json}}</pre>
